# WYSIWYG Poem Editor - User Guide

## Overview
Your poetry platform now includes a powerful **WYSIWYG (What You See Is What You Get) Editor** for creating and managing poems in English, Hindi, and Marathi languages.

---

## Features

### ‚ú® WYSIWYG Editor Features
- **Rich Text Formatting**: Bold, italic, underline
- **Headers**: Multiple heading levels
- **Lists**: Ordered and bullet lists
- **Text Alignment**: Left, center, right, justify
- **Multilingual Support**: Optimized fonts for Devanagari script (Hindi/Marathi)
- **Real-time Preview**: See exactly how your poem will look
- **Clean Interface**: Distraction-free writing experience

### üîê User Features
- **Secure Login**: JWT-based authentication
- **Personal Dashboard**: View all your poems
- **CRUD Operations**: Create, Read, Update, Delete poems
- **Draft Mode**: Save poems as drafts before publishing
- **Language Filter**: Filter poems by language
- **Statistics**: View counts, likes, ratings for each poem

---

## Access the Editor

### Development Server
**Local URL**: http://localhost:3000/editor.html

### Production (After Deployment)
**Live URL**: https://1e883418.poetry-platform.pages.dev/editor.html
**Permanent URL**: https://poetry-platform.pages.dev/editor.html

---

## Login Credentials

### Admin User: varu
- **Username**: `varu`
- **Password**: `varu123`
- **Role**: Admin
- **Display Name**: varu (pen name)
- **Pre-loaded Poems**: 19 poems from "Safar-e-Zindagi" (The Journey of Life)

---

## Pre-loaded Poems

### Chapter 1: Safar-e-Zindagi (The Journey of Life)
**Total: 19 Poems**

1. **‡§µ‡§ï‡•ç‡§§ ‡§ï‡§æ ‡§§‡§ï‡§æ‡§ù‡§æ** (Hindi) - Waqt ka Takaza
2. **‡§∞‡•á‡§§ ‡§∏‡•Ä ‡§´‡§ø‡§∏‡§≤ ‡§∞‡§π‡•Ä ‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä** (Hindi) - Ret si Fisal Rahi Zindagi ‚≠ê Featured
3. **Maximist - A Tribute** (English)
4. **‡§ú‡•Ä‡§µ‡§® ‡§ï‡§æ ‡§∏‡§æ‡§∞** (Hindi) - Jeevan ka Saar (Rap) ‚≠ê Featured
5. **‡§â‡§≤‡§ù‡§®** (Hindi) - Uljhan
6. **‡§ï‡•Å‡§∞‡•ç‡§¨‡§æ‡§®‡•Ä - ‡§Ü‡§ú ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§≤** (Hindi) - Kurbani
7. **‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ê‡§∏‡§æ ‡§ï‡§¨ ‡§§‡§ï ‡§ö‡§≤‡•á‡§ó‡§æ?** (Hindi)
8. **‡§Ö‡§®‡§¶‡•á‡§ñ‡§æ ‡§µ‡§ø‡§∑‡§æ‡§£‡•Å** (Hindi) - Anndekha Vishanu ‚≠ê Featured
9. **‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ï‡•Ä ‡§∏‡§ö‡•ç‡§ö‡§æ‡§à** (Hindi) - Zindagi ki Sacchai
10. **‡§∏‡§Æ‡§Ø ‡§∏‡•á ‡§â‡§≤‡§ù‡•Ä ‡§§‡§æ‡§∞‡•á‡§Ç** (Hindi) - Samay se Uljhi Taarein
11. **‡§è‡§ï ‡§¶‡§ø‡§® - ‡§è‡§ï ‡§â‡§Ç‡§ó‡§≤‡•Ä ‡§ï‡•Ä ‡§µ‡•ã‡§ü** (Hindi) - Ek Din
12. **‡§π‡§∞ ‡§Æ‡•ã‡§°‡§º ‡§™‡§∞ ‡§∏‡•Ä‡§ñ** (Hindi) - Har Mod Par Seekh
13. **‡§®‡§¶‡•Ä ‡§π‡•ã ‡§Ø‡§æ ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä** (Hindi) - Nadi ho ya Zindagi
14. **‡§ó‡•Å‡§ú‡§º‡§æ‡§∞‡§ø‡§∂ - ‡§ú‡§º‡§ø‡§®‡•ç‡§¶‡§ó‡•Ä ‡§∏‡•á** (Hindi) - Guzarish to Life ‚≠ê Featured
15. **‡§π‡§Ç‡§∏‡§®‡§æ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à** (Hindi) - Hassna Zaroori Hai ‚≠ê Featured
16. **Take it for Granted** (English)
17. **‡§∞‡§æ‡§∏‡•ç‡§§‡•á ‡§ï‡§Æ‡§æ‡§≤ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç** (Hindi) - Raaste Kamal Hote Hain
18. **‡§Ü‡§ó‡§æ‡§ú‡§º - 2024** (Hindi) - Aagaz
19. **‡§¨‡§¶‡§≤‡§§‡§æ ‡§á‡§Ç‡§∏‡§æ‡§®** (Hindi) - Badalta Insaan

**Featured Poems**: 5 poems marked as featured
**All Poems**: Eligible for anthology inclusion

---

## How to Use the Editor

### 1. Login
1. Open the editor URL
2. Enter username: `varu`
3. Enter password: `varu123`
4. Click "Login"

### 2. View Your Poems
- After login, you'll see "My Poems" dashboard
- Each poem shows:
  - Title and language badge
  - Preview of content
  - View, like, and rating statistics
  - Edit and Delete buttons
- Filter by language using the dropdown

### 3. Create New Poem
1. Click "New Poem" button in header
2. Fill in:
   - **Poem Title**: Enter your poem's title
   - **Language**: Select English/Hindi/Marathi
   - **Poem Content**: Use the WYSIWYG editor
3. Format your text:
   - Use toolbar for bold, italic, underline
   - Add headers for sections
   - Create lists if needed
   - Adjust text alignment
4. Choose status: Published or Draft
5. Click "Save Poem"

### 4. Edit Existing Poem
1. From "My Poems" list, click "Edit" on any poem
2. Modify title, content, language, or status
3. Click "Save Poem" to update

### 5. Delete Poem
1. From "My Poems" list, click "Delete" on any poem
2. Confirm deletion
3. Poem will be soft-deleted (status changed to 'deleted')

---

## WYSIWYG Editor Toolbar

### Formatting Options
- **Headers**: H1, H2, H3, or normal text
- **Bold** (Ctrl+B): Make text bold
- **Italic** (Ctrl+I): Italicize text
- **Underline** (Ctrl+U): Underline text
- **Lists**:
  - Ordered list (1, 2, 3...)
  - Bullet list (‚Ä¢)
- **Alignment**:
  - Left align
  - Center
  - Right align
  - Justify
- **Clean**: Remove all formatting

---

## Language-Specific Features

### English (en)
- Font: Noto Sans, Georgia
- Optimized for Latin script
- All standard formatting options

### Hindi (hi) - ‡§π‡§ø‡§Ç‡§¶‡•Ä
- Font: Noto Sans Devanagari
- Optimized for Devanagari script
- Full Unicode support
- Proper rendering of conjuncts

### Marathi (mr) - ‡§Æ‡§∞‡§æ‡§†‡•Ä
- Font: Noto Sans Devanagari
- Optimized for Devanagari script
- Full Unicode support
- Proper rendering of conjuncts

---

## API Endpoints Used by Editor

### Authentication
- `POST /api/auth/login` - User login
- `GET /api/auth/me` - Get current user info

### Poems Management
- `GET /api/poems/user/my-poems` - Get user's poems
- `GET /api/poems/:id` - Get single poem details
- `POST /api/poems` - Create new poem
- `PUT /api/poems/:id` - Update existing poem
- `DELETE /api/poems/:id` - Delete poem (soft delete)

---

## Tips for Best Results

### Writing Poems
1. **Use Line Breaks**: Press Enter to create new lines
2. **Preserve Formatting**: The editor maintains your spacing and line breaks
3. **Draft First**: Use draft mode to work on poems before publishing
4. **Preview**: The editor shows exactly how your poem will appear

### Multilingual Poems
1. **Select Correct Language**: Ensures proper font rendering
2. **Use Native Script**: Write Hindi in Devanagari, not transliteration
3. **Check Display**: Preview after saving to ensure proper rendering

### Best Practices
- Write poem title in the same language as content
- Use descriptive titles for better discoverability
- Mark poems as "Published" when ready for public viewing
- Keep drafts for work-in-progress poems

---

## Troubleshooting

### Login Issues
- **Error: "Invalid token"**: Re-login to refresh authentication
- **Error: "Not authenticated"**: Check that you're logged in

### Saving Issues
- **Error: "Title, content, and language are required"**: Fill all required fields
- **Error: "Invalid language"**: Select a valid language (en/hi/mr)

### Display Issues
- **Hindi/Marathi not showing correctly**: 
  - Ensure correct language is selected
  - Check that Noto Sans Devanagari font is loaded
- **Formatting not preserved**: 
  - Use the editor's formatting tools instead of copy-paste

---

## Database Information

### Varu User Details
```sql
Username: varu
Email: varu@poetry-platform.com
Role: admin
Display Name: varu
Language Preference: hi (Hindi)
Is Featured: Yes
```

### Poems Table Structure
```sql
- id: Unique identifier
- title: Poem title
- content: Full poem content (plain text with line breaks)
- language: en/hi/mr
- author_id: References users table
- status: published/draft/deleted
- is_featured: Boolean
- anthology_eligible: Boolean
- view_count, like_count, rating_sum, rating_count
- created_at, updated_at
```

---

## Next Steps

### For Development
1. Test all CRUD operations with varu account
2. Create more poems in different languages
3. Test the WYSIWYG formatting features
4. Verify mobile responsiveness

### For Production
1. Deploy to Cloudflare Pages (poems already in production DB)
2. Import poems to production database:
   ```bash
   npx wrangler d1 execute poetry-platform-production --remote --file=./seed_varu_poems.sql
   ```
3. Share editor URL with poets
4. Monitor usage and feedback

---

## Security Notes

### Password Security
- Default password for varu is `varu123`
- **IMPORTANT**: Change password after first login
- Use strong, unique passwords for all accounts

### Token Management
- Tokens stored in localStorage
- Tokens expire after configured duration
- Re-login if token expires

### Admin Privileges
- Varu has admin role
- Can moderate all content
- Can access admin dashboard
- Can manage other users

---

## Support

### Documentation
- **README.md**: Full project overview
- **DEPLOYMENT.md**: Deployment instructions
- **API Documentation**: Available in README.md

### Testing
```bash
# Test poems API
curl http://localhost:3000/api/poems

# Test varu's poems
curl http://localhost:3000/api/poems?author=varu

# Test login
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"varu","password":"varu123"}'
```

---

## Summary

‚úÖ **WYSIWYG Editor**: Fully functional with Quill.js
‚úÖ **19 Poems Imported**: All from "Safar-e-Zindagi" chapter
‚úÖ **Varu Account**: Admin user with pen name "varu"
‚úÖ **Multilingual**: English, Hindi, Marathi support
‚úÖ **Full CRUD**: Create, Read, Update, Delete poems
‚úÖ **Rich Formatting**: Headers, bold, lists, alignment
‚úÖ **Production Ready**: Can be deployed immediately

**Start writing and editing poems at: http://localhost:3000/editor.html**

Login with:
- Username: `varu`
- Password: `varu123`

üéâ Happy Poetry Writing! üìù‚ú®
